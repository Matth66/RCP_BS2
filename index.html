<h1>Works</h1>
<p>Phase 6</p>
<script>
    function urlInData(id_,json_){
        json_.forEach(element => {
            if(element["id"]==id_){
                return true
            }
           
        });
        return false
    }

    function runURL(json_,url_,direct_){
        if(urlInData(url_,json_)){
            if(direct_=="true"){
                console.log("Direct redirection")
            }else if(direct_=="false"){
                console.log("Accept redirection")
            }else{
                console.log("Error 404 wrong direct parameter")
            }
        }else{
            console.log("Error 404 no url")
        }
    }


    var query = window.location.search.substring(1);
    var vars = query.split("&");
    var id = vars[0]
    var direct = vars[1]
    fetch('./data.json')
    .then((response) => response.json())
    .then((json) => runURL(json,id,direct));
    //.then((json) => urlInData(id,json));
    
    
    
    
    //console.log(url)
    //console.log(direct)
</script>